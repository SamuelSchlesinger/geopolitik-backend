<html>
  <head>
    <title>Geopolitik</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script language="JavaScript">
    function signin(form) {
      xhttp.withCredentials = true;
      fetch('/account/signin', {method: 'post', credentials: 'include'}).then(json).then(function (data) {
        console.log(data);
        })
      xhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
          console.log(document.cookie)
          document.cookie = "geopolitik-user=" + this.responseText
            <!-- window.location.href = "http://localhost:8080/authenticated.html" -->
        }
      }
      let req = JSON.stringify({
        signInUsername: form.username.value,
        signInPassword: form.password.value
      });
      console.log(req);
      xhttp.send(req);
    }
  </script>
  </head>

  <form name="geopolitik-sign-in" action="" method="post">
    Username: <input type="text" name="username"> <br>
    Password: <input type="password" name="password"> <br>
    <input type="button" value="Sign In" method="post" onClick="signin(this.form)">
  </form>
</html>
